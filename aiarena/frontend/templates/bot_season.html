{% extends "base.html" %}
{% load i18n core_filters wiki_tags %}


{% block content %}
    <div class="divider"><span></span><span><h2>{{ seasonparticipation.bot.name }} - {{ seasonparticipation.season.name }} stats</h2></span><span></span></div>
    <div id="bot_season_stats">
        <table>
            <thead>
            <tr>
                <td colspan="2"><b>Stats</b></td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>ELO</td>
                {% if seasonparticipation.elo %}
                    <td>{{ seasonparticipation.elo }}</td>
                {% else %}
                    <td>No stats</td>
                {% endif %}
            </tr>
            <tr>
                <td>Win %</td>
                {% if seasonparticipation.win_perc %}
                    <td>{{ seasonparticipation.win_per|floatformat:2 }}</td>
                {% else %}
                    <td>No stats</td>
                {% endif %}
            </tr>
            <tr>
                <td>Crash %</td>
                {% if seasonparticipation.crash_perc %}
                    <td>{{ seasonparticipation.match_count|floatformat:2 }}</td>
                {% else %}
                    <td>No stats</td>
                {% endif %}
            </tr>
            <tr>
                <td>Games</td>
                {% if seasonparticipation.match_count %}
                    <td>{{ seasonparticipation.match_count }}</td>
                {% else %}
                    <td>No stats</td>
                {% endif %}
            </tr>
            </tbody>
        </table>
        <br/>
    </div>

    <div id="bot_season_stats_matchups">
        <table class="row-hover-highlight">
            <thead>
            <tr>
                <td><b>Opponent</b></td>
                <td><b>Race</b></td>
                <td><b>Games</b></td>
                <td><b>Wins</b></td>
                <td><b>Win %</b></td>
            </tr>
            </thead>
            <tbody>
            {% if stats_bot_matchups.count > 0 %}
                {% for bot_matchup in stats_bot_matchups %}
                    <tr>
                        <td>{{ bot_matchup.opponent.as_html_link |safe }}</td>
                        <td>{{ bot_matchup.opponent.get_plays_race_display }}</td>
                        <td>{{ bot_matchup.game_count }}</td>
                        <td>{{ bot_matchup.win_count }}</td>
                        <td>{{ bot_matchup.win_perc|floatformat:2 }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="5">No stats</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
        <br/>
    </div>
{% endblock %}

